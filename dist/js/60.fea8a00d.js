"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[60],{189:(e,r,a)=>{a.d(r,{A:()=>c});var l=a(641),s=a(33);const t={class:"input-field"},i=["for"],n=["id","type","value","placeholder","disabled","maxlength","minlength"],o={key:1,class:"error-message"};function d(e,r,a,d,u,p){return(0,l.uX)(),(0,l.CE)("div",t,[e.label?((0,l.uX)(),(0,l.CE)("label",{key:0,for:e.id,class:"input-label"},(0,s.v_)(e.label),9,i)):(0,l.Q3)("",!0),(0,l.Lk)("input",{id:e.id,type:e.type,value:e.modelValue,placeholder:e.placeholder,disabled:e.disabled,maxlength:e.maxlength,minlength:e.minlength,onInput:r[0]||(r[0]=r=>e.$emit("update:modelValue",r.target.value)),class:"input"},null,40,n),e.errorMessage?((0,l.uX)(),(0,l.CE)("p",o,(0,s.v_)(e.errorMessage),1)):(0,l.Q3)("",!0)])}const u=(0,l.pM)({name:"InputField",props:{id:{type:String,required:!0},label:{type:String,required:!0},type:{type:String,default:"text"},modelValue:{type:String,required:!0},placeholder:{type:String,required:!0},disabled:{type:Boolean,required:!1,default:!1},maxlength:{type:Number,required:!1},minlength:{type:Number,required:!1},errorMessage:{type:String,required:!1}}});var p=a(262);const m=(0,p.A)(u,[["render",d],["__scopeId","data-v-493aa504"]]),c=m},936:(e,r,a)=>{a.r(r),a.d(r,{default:()=>E});var l=a(641),s=a(751),t=a(33);const i={class:"forgot-password"},n={class:"form-group"},o={key:0,class:"error-message"},d={key:0,class:"success"},u={key:1,class:"error-message"};function p(e,r,a,p,m,c){const g=(0,l.g2)("InputField"),h=(0,l.g2)("ButtonComponent"),v=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",i,[r[3]||(r[3]=(0,l.Lk)("h1",null,"Mot de passe oublié",-1)),r[4]||(r[4]=(0,l.Lk)("p",null," Entrez votre adresse email ci-dessous, et nous vous enverrons un lien pour réinitialiser votre mot de passe. ",-1)),(0,l.Lk)("form",{onSubmit:r[1]||(r[1]=(0,s.D$)(((...r)=>e.handleForgotPassword&&e.handleForgotPassword(...r)),["prevent"]))},[(0,l.Lk)("div",n,[(0,l.bF)(g,{id:"email",modelValue:e.email,"onUpdate:modelValue":r[0]||(r[0]=r=>e.email=r),type:"email",label:"Email",placeholder:"Votre email",required:""},null,8,["modelValue"]),e.emailError?((0,l.uX)(),(0,l.CE)("span",o,(0,t.v_)(e.emailError),1)):(0,l.Q3)("",!0)]),(0,l.bF)(h,{type:"submit",class:"btn-primary",disabled:e.loading},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)(e.loading?"Envoi en cours...":"Envoyer le lien"),1)])),_:1},8,["disabled"]),e.successMessage?((0,l.uX)(),(0,l.CE)("p",d,(0,t.v_)(e.successMessage),1)):(0,l.Q3)("",!0),e.apiError?((0,l.uX)(),(0,l.CE)("p",u,(0,t.v_)(e.apiError),1)):(0,l.Q3)("",!0)],32),(0,l.Lk)("p",null,[(0,l.bF)(v,{to:"/"},{default:(0,l.k6)((()=>r[2]||(r[2]=[(0,l.eW)("Retour à la connexion")]))),_:1})])])}var m=a(6),c=a(523),g=a(189);const h=(0,l.pM)({name:"resetPassword",components:{ButtonComponent:c.A,InputField:g.A},data(){return{email:"",emailError:"",apiError:"",successMessage:"",loading:!1}},methods:{async handleForgotPassword(){if(this.emailError=null,this.apiError=null,this.successMessage=null,this.validateEmail(this.email))try{this.loading=!0;const e=await(0,m.w2)(this.email);console.log(e),this.successMessage="Un lien de réinitialisation a été envoyé à votre adresse email.",this.email=""}catch(e){console.error("Erreur lors de la demande de réinitialisation :",e),this.apiError="Une erreur est survenue. Veuillez vérifier l'adresse email et réessayer."}finally{this.loading=!1}else this.emailError="Veuillez entrer une adresse email valide."},validateEmail(e){const r=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return r.test(e)}}});var v=a(262);const y=(0,v.A)(h,[["render",p]]),E=y}}]);
//# sourceMappingURL=60.fea8a00d.js.map
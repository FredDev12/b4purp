{"version":3,"sources":["webpack:///./src/store/Storage.ts","webpack:///./src/components/SidebarComponent.vue?e224","webpack:///./src/components/SidebarComponent.vue?acd9","webpack:///./src/components/SidebarComponent.vue","webpack:///./src/components/SidebarComponent.vue?a363","webpack:///./src/components/NavBar.vue?6077","webpack:///./src/components/NavBar.vue?f24f","webpack:///./src/components/NavBar.vue","webpack:///./src/views/liste.vue?3387","webpack:///./src/views/liste.vue?b039","webpack:///./src/views/liste.vue","webpack:///./src/assets/user1.png"],"names":["useStore","id","state","token","localStorage","getItem","userProfile","users","userList","listClients","listManagers","listUtilisateurs","isAuthenticated","actions","email","password","response","role","this","setItem","fetchUserProfile","fetchUsers","error","console","Error","log","removeItem","payload","_hoisted_1","class","_hoisted_2","render","_ctx","_cache","$props","$setup","$data","$options","menuItems","item","key","name","active","href","link","props","type","Array","required","__exports__","_hoisted_3","_component_router_link","isMenuOpen","to","default","_","onClick","args","toggleDropdown","src","alt","profil","logout","router","push","isDropdownOpen","methods","_hoisted_4","_hoisted_5","_hoisted_6","_component_NavBar","filteredMenuItems","$event","addUser","entities","length","entity","task","status","editEntity","deleteEntity","entityTitle","toLowerCase","components","ButtonComponent","SidebarComponent","NavBar","visibleTo","value","filter","includes","async","entityType","warn","entityId","module","exports"],"mappings":"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","file":"js/chunk-678f6aba.40617515.js","sourcesContent":["// src/store/authStore.ts\nimport { defineStore } from 'pinia';\nimport { login, getUserProfile, logoutUser, listUsers, getUsers } from '../api/serviceAPI';\nexport const useStore = defineStore({\n    id: 'auth',\n    state: () => ({\n        token: localStorage.getItem('token') || null,\n        userProfile: null,\n        users: [],\n        userList: [],\n        listClients: [],\n        listManagers: [],\n        listUtilisateurs: [],\n        isAuthenticated: !!localStorage.getItem('token'),\n    }),\n    actions: {\n        async performLogin(email, password) {\n            try {\n                const response = await login(email, password);\n                const token = response.token;\n                const role = response.role;\n                this.token = token;\n                localStorage.setItem('token', token);\n                localStorage.setItem('role', role);\n                this.isAuthenticated = true;\n                // Fetch user profile upon successful login\n                await this.fetchUserProfile(token);\n                await this.fetchUsers(role, token);\n            }\n            catch (error) {\n                console.error('Authentication failed:', error);\n                throw new Error('Login failed');\n            }\n        },\n        async fetchUserProfile(token) {\n            if (!token) {\n                console.error('No token provided');\n                return;\n            }\n            try {\n                const response = await getUserProfile(token);\n                this.userProfile = response;\n                this.isAuthenticated = true;\n            }\n            catch (error) {\n                console.error('Failed to fetch user profile:', error);\n                this.isAuthenticated = false;\n            }\n        },\n        async fetchUsers(role, token) {\n            if (!token) {\n                console.error('No token provided');\n                return;\n            }\n            try {\n                const response = await listUsers(role, token);\n                console.log('storage', response);\n                this.users = response;\n                console.log(this.users);\n                //this.isAuthenticated = true;\n            }\n            catch (error) {\n                console.error('Failed to fetch user:', error);\n                this.isAuthenticated = false;\n            }\n        },\n        async fetchUsersBY(role, token) {\n            if (!token) {\n                console.error('No token provided');\n                return;\n            }\n            try {\n                const response = await getUsers(role, token);\n                console.log('storage', response);\n                this.userList = response;\n                console.log('liste ', this.userList);\n                //this.isAuthenticated = true;\n            }\n            catch (error) {\n                console.error('Failed to fetch user:', error);\n                this.isAuthenticated = false;\n            }\n        },\n        async performLogout() {\n            if (!this.token) {\n                console.error('No token provided');\n                return;\n            }\n            try {\n                await logoutUser(this.token);\n                this.isAuthenticated = false;\n                this.userProfile = null;\n                localStorage.removeItem(\"token\");\n                localStorage.removeItem(\"role\");\n            }\n            catch (error) {\n                console.error('Failed to logout:', error);\n            }\n        },\n        async addUser(payload) {\n        },\n        async fetchUsersByRole(role) {\n            if (!this.token) {\n                console.error('No token provided');\n                return;\n            }\n            try {\n                const users = await listUsers(role, this.token);\n                if (role === 'client') {\n                    this.listClients = users;\n                }\n                else if (role === 'manager') {\n                    this.listManagers = users;\n                }\n                else {\n                    this.listUtilisateurs = users;\n                }\n            }\n            catch (error) {\n                console.error(`Failed to fetch ${role}s:`, error);\n            }\n        }\n    },\n});\n","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = { class: \"sidebar\" };\nconst _hoisted_2 = [\"href\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n    return (_openBlock(), _createElementBlock(\"aside\", _hoisted_1, [\n        _createElementVNode(\"nav\", null, [\n            _createElementVNode(\"ul\", null, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.menuItems, (item) => {\n                    return (_openBlock(), _createElementBlock(\"li\", {\n                        key: item.name,\n                        class: _normalizeClass({ active: item.active })\n                    }, [\n                        _createElementVNode(\"a\", {\n                            href: item.link\n                        }, _toDisplayString(item.name), 9, _hoisted_2)\n                    ], 2));\n                }), 128))\n            ])\n        ])\n    ]));\n}\n","import { defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'SidebarComponent',\n    props: {\n        menuItems: {\n            type: Array,\n            required: true,\n        },\n    },\n});\n","import { render } from \"./SidebarComponent.vue?vue&type=template&id=74b7da77&scoped=true&ts=true\"\nimport script from \"./SidebarComponent.vue?vue&type=script&lang=ts\"\nexport * from \"./SidebarComponent.vue?vue&type=script&lang=ts\"\n\nimport \"./SidebarComponent.vue?vue&type=style&index=0&id=74b7da77&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\code dev\\\\projet\\\\V2\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-74b7da77\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./SidebarComponent.vue?vue&type=style&index=0&id=74b7da77&scoped=true&lang=css\"","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, normalizeClass as _normalizeClass, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode } from \"vue\";\nimport _imports_0 from '../assets/user1.png';\nconst _hoisted_1 = { class: \"navbar\" };\nconst _hoisted_2 = { class: \"action-bubble\" };\nconst _hoisted_3 = {\n    key: 0,\n    class: \"dropdown-menu\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n    const _component_router_link = _resolveComponent(\"router-link\");\n    return (_openBlock(), _createElementBlock(\"div\", null, [\n        _createElementVNode(\"header\", _hoisted_1, [\n            _cache[4] || (_cache[4] = _createElementVNode(\"div\", { class: \"logo\" }, [\n                _createElementVNode(\"a\", { href: \"/\" }, \"MonLogo\")\n            ], -1)),\n            _createElementVNode(\"div\", {\n                class: _normalizeClass([\"menu\", { 'active': _ctx.isMenuOpen }])\n            }, [\n                _createElementVNode(\"ul\", null, [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.menuItems, (item) => {\n                        return (_openBlock(), _createElementBlock(\"li\", {\n                            key: item.name,\n                            class: _normalizeClass({ active: item.active })\n                        }, [\n                            _createVNode(_component_router_link, {\n                                class: \"link\",\n                                to: item.link\n                            }, {\n                                default: _withCtx(() => [\n                                    _createTextVNode(_toDisplayString(item.name), 1)\n                                ]),\n                                _: 2\n                            }, 1032, [\"to\"])\n                        ], 2));\n                    }), 128))\n                ])\n            ], 2),\n            _createElementVNode(\"div\", _hoisted_2, [\n                _createElementVNode(\"button\", {\n                    onClick: _cache[0] || (_cache[0] =\n                        //@ts-ignore\n                        (...args) => (_ctx.toggleDropdown && _ctx.toggleDropdown(...args))),\n                    class: \"action-button\"\n                }, _cache[3] || (_cache[3] = [\n                    _createElementVNode(\"img\", {\n                        src: _imports_0,\n                        alt: \"Profile\",\n                        class: \"profile-picture\"\n                    }, null, -1)\n                ])),\n                (_ctx.isDropdownOpen)\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n                        _createElementVNode(\"ul\", null, [\n                            _createElementVNode(\"li\", null, [\n                                _createElementVNode(\"a\", {\n                                    href: \"#\",\n                                    onClick: _cache[1] || (_cache[1] = _withModifiers(\n                                    //@ts-ignore\n                                    (...args) => (_ctx.profil && _ctx.profil(...args)), [\"prevent\"]))\n                                }, \"Mon profil\")\n                            ]),\n                            _createElementVNode(\"li\", null, [\n                                _createElementVNode(\"a\", {\n                                    href: \"#\",\n                                    onClick: _cache[2] || (_cache[2] = _withModifiers(\n                                    //@ts-ignore\n                                    (...args) => (_ctx.logout && _ctx.logout(...args)), [\"prevent\"]))\n                                }, \"Se déconnecter\")\n                            ])\n                        ])\n                    ]))\n                    : _createCommentVNode(\"\", true)\n            ])\n        ])\n    ]));\n}\n","import { defineComponent } from 'vue';\nimport { useRouter } from 'vue-router';\nexport default defineComponent({\n    name: 'NavbarComponent',\n    props: {\n        menuItems: {\n            type: Array,\n            required: true,\n        },\n    },\n    setup() {\n        const router = useRouter();\n        const logout = () => {\n            // Suppression du token JWT du stockage local\n            localStorage.removeItem('token');\n            localStorage.removeItem(\"username\");\n            localStorage.removeItem(\"role\");\n            // Redirection vers la page de connexion\n            router.push('/');\n        };\n        const profil = () => {\n            router.push({ name: 'profile' });\n        };\n        return {\n            logout, profil,\n        };\n    },\n    data() {\n        return {\n            isMenuOpen: false,\n            isDropdownOpen: false,\n        };\n    },\n    methods: {\n        toggleMenu() {\n            this.isMenuOpen = !this.isMenuOpen;\n        },\n        toggleDropdown() {\n            this.isDropdownOpen = !this.isDropdownOpen;\n        },\n    }\n});\n","import { render } from \"./NavBar.vue?vue&type=template&id=4d7beecf&ts=true\"\nimport script from \"./NavBar.vue?vue&type=script&lang=ts\"\nexport * from \"./NavBar.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\code dev\\\\projet\\\\V2\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = { class: \"dashboard\" };\nconst _hoisted_2 = { class: \"table-container\" };\nconst _hoisted_3 = {\n    key: 0,\n    class: \"client-table\"\n};\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = { key: 1 };\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n    const _component_NavBar = _resolveComponent(\"NavBar\");\n    const _component_router_link = _resolveComponent(\"router-link\");\n    return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createVNode(_component_NavBar, { menuItems: _ctx.filteredMenuItems }, null, 8, [\"menuItems\"]),\n        _createElementVNode(\"main\", _hoisted_2, [\n            _cache[4] || (_cache[4] = _createElementVNode(\"h1\", null, \"Liste des Utilisateurs\", -1)),\n            _createElementVNode(\"button\", {\n                class: \"add-button\",\n                onClick: _cache[0] || (_cache[0] = ($event) => (_ctx.addUser()))\n            }, \"Ajouter\"),\n            (_ctx.entities.length > 0)\n                ? (_openBlock(), _createElementBlock(\"table\", _hoisted_3, [\n                    _cache[1] || (_cache[1] = _createElementVNode(\"thead\", null, [\n                        _createElementVNode(\"tr\", null, [\n                            _createElementVNode(\"th\", null, \"Nom complet\"),\n                            _createElementVNode(\"th\", null, \"Email\"),\n                            _createElementVNode(\"th\", null, \"Tache\"),\n                            _createElementVNode(\"th\", null, \"Status\"),\n                            _createElementVNode(\"th\", null, \"Rôle\"),\n                            _createElementVNode(\"th\", null, \"Actions\")\n                        ])\n                    ], -1)),\n                    _createElementVNode(\"tbody\", null, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.entities, (entity) => {\n                            return (_openBlock(), _createElementBlock(\"tr\", {\n                                key: entity.id\n                            }, [\n                                _createElementVNode(\"td\", null, _toDisplayString(entity.name), 1),\n                                _createElementVNode(\"td\", null, _toDisplayString(entity.email), 1),\n                                _createElementVNode(\"td\", null, _toDisplayString(entity.task), 1),\n                                _createElementVNode(\"td\", null, _toDisplayString(entity.status), 1),\n                                _createElementVNode(\"td\", null, _toDisplayString(entity.role), 1),\n                                _createElementVNode(\"td\", null, [\n                                    _createElementVNode(\"button\", {\n                                        onClick: ($event) => (_ctx.editEntity(entity.id)),\n                                        class: \"edit-button\"\n                                    }, \"Éditer\", 8, _hoisted_4),\n                                    _createElementVNode(\"button\", {\n                                        onClick: ($event) => (_ctx.deleteEntity(entity.id)),\n                                        class: \"delete-button\"\n                                    }, \"Supprimer\", 8, _hoisted_5)\n                                ])\n                            ]));\n                        }), 128))\n                    ])\n                ]))\n                : (_openBlock(), _createElementBlock(\"p\", _hoisted_6, [\n                    _createTextVNode(\"Aucun \" + _toDisplayString(_ctx.entityTitle.toLowerCase()) + \" trouvé \", 1),\n                    _createVNode(_component_router_link, { to: \"/addUser\" }, {\n                        default: _withCtx(() => _cache[2] || (_cache[2] = [\n                            _createTextVNode(\"Ajouter ici\")\n                        ])),\n                        _: 1\n                    }),\n                    _cache[3] || (_cache[3] = _createTextVNode(\".\"))\n                ]))\n        ])\n    ]));\n}\n","import { defineComponent, ref, onMounted } from 'vue';\nimport ButtonComponent from '../components/ButtonComponent.vue';\nimport SidebarComponent from '../components/SidebarComponent.vue';\nimport NavBar from '../components/NavBar.vue';\nimport { useRouter } from 'vue-router';\nimport { getUsers } from '../api/serviceAPI';\nimport { useStore } from '../store/Storage';\nexport default defineComponent({\n    name: \"List\",\n    components: {\n        ButtonComponent,\n        SidebarComponent,\n        NavBar\n    },\n    setup() {\n        const store = useStore();\n        const entities = ref([]);\n        const entityTitle = ref(\"\");\n        const role = localStorage.getItem('role') || \"Utilisateur\";\n        const token = localStorage.getItem('token');\n        // Définir les menus spécifiques à chaque rôle\n        const menuItems = ref([\n            { name: 'Tableau de Bord', link: '/dashboard', active: false, visibleTo: ['Admin', 'Client', 'Manager', 'Utilisateur'] },\n            { name: 'Liste des Utilisateurs', link: '/liste', active: false, visibleTo: ['Admin', 'Client', 'Manager'] },\n            { name: \"Mon Profil\", link: '/profile', active: true, visibleTo: ['Admin', 'Client', 'Manager', 'Utilisateur'] },\n        ]);\n        // Filtrer les éléments du menu en fonction du rôle de l'utilisateur\n        const filteredMenuItems = menuItems.value.filter(item => item.visibleTo.includes(role));\n        const router = useRouter();\n        onMounted(async () => {\n            try {\n                let response;\n                const entityType = role;\n                switch (entityType) {\n                    case \"Admin\":\n                        entityTitle.value = \"Admin\";\n                        break;\n                    case \"Client\":\n                        entityTitle.value = \"Client\";\n                        break;\n                    case \"Manager\":\n                        entityTitle.value = \"Manager\";\n                        break;\n                    case \"Utilisateur\":\n                        entityTitle.value = \"Utilisateur\";\n                        break;\n                    default:\n                        console.warn(`Type d'entité inconnu: ${entityType}`);\n                        return;\n                }\n                console.log(entityTitle.value);\n                // Only call listUsers once, since it is used in every case\n                if (token) {\n                    const response = await getUsers(role, token);\n                    console.log(role);\n                    entities.value = response;\n                }\n                else {\n                    console.error(\"authentication token is missing\");\n                }\n            }\n            catch (error) {\n                console.error(\"Une erreur est survenue lors de la récupération des données.\", error);\n            }\n        });\n        const editEntity = (entityId) => {\n            console.log(\"Edit entity:\", entityId);\n        };\n        const deleteEntity = (entityId) => {\n            console.log(\"Delete entity with ID:\", entityId);\n        };\n        const addUser = () => {\n            router.push(\"/addUser\");\n        };\n        return {\n            entities,\n            entityTitle,\n            menuItems,\n            editEntity,\n            deleteEntity,\n            addUser,\n            filteredMenuItems,\n            role\n        };\n    },\n});\n","import { render } from \"./liste.vue?vue&type=template&id=71879581&ts=true\"\nimport script from \"./liste.vue?vue&type=script&lang=ts\"\nexport * from \"./liste.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\code dev\\\\projet\\\\V2\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/user1.399c5f70.png\";"],"sourceRoot":""}
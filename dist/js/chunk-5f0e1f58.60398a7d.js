(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f0e1f58"],{"0da1":function(e,t,l){"use strict";l("7233")},"14f4":function(e,t,l){},3724:function(e,t,l){"use strict";var o=l("7a23");const a={for:"select",class:"select-label"},n=["id"],r=["value"];function c(e,t,l,c,i,d){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("label",a,Object(o["toDisplayString"])(e.label),1),Object(o["withDirectives"])(Object(o["createElementVNode"])("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedOption=t),class:"gender-select",id:e.uniqueId},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.options,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("option",{key:e.value,value:e.value},Object(o["toDisplayString"])(e.label),9,r))),128))],8,n),[[o["vModelSelect"],e.selectedOption]])])}var i=Object(o["defineComponent"])({name:"SelectComponent",props:{modelValue:{type:String,required:!1},options:{type:Array,required:!0},label:{type:String,default:"Sélectionnez une option"},id:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const l=Object(o["computed"])(()=>e.id||"select-"+Math.random().toString(36).substr(2,9)),a=Object(o["computed"])({get:()=>e.modelValue,set:e=>t("update:modelValue",e)});return{selectedOption:a,options:e.options,uniqueId:l}}}),d=(l("0da1"),l("6b0d")),s=l.n(d);const m=s()(i,[["render",c],["__scopeId","data-v-657b3cd4"]]);t["a"]=m},7233:function(e,t,l){},8192:function(e,t,l){"use strict";var o=l("7a23");const a={class:"input-field"},n=["for"],r=["id","type","value","placeholder","disabled","maxlength","minlength"],c={key:1,class:"error-message"};function i(e,t,l,i,d,s){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[e.label?(Object(o["openBlock"])(),Object(o["createElementBlock"])("label",{key:0,for:e.id,class:"input-label"},Object(o["toDisplayString"])(e.label),9,n)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("input",{id:e.id,type:e.type,value:e.modelValue,placeholder:e.placeholder,disabled:e.disabled,maxlength:e.maxlength,minlength:e.minlength,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),class:"input"},null,40,r),e.errorMessage?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",c,Object(o["toDisplayString"])(e.errorMessage),1)):Object(o["createCommentVNode"])("",!0)])}var d=Object(o["defineComponent"])({name:"InputField",props:{id:{type:String,required:!0},label:{type:String,required:!0},type:{type:String,default:"text"},modelValue:{type:String,required:!0},placeholder:{type:String,required:!0},disabled:{type:Boolean,required:!1,default:!1},maxlength:{type:Number,required:!1},minlength:{type:Number,required:!1},errorMessage:{type:String,required:!1}}}),s=(l("be8d"),l("6b0d")),m=l.n(s);const u=m()(d,[["render",i],["__scopeId","data-v-424e3b7f"]]);t["a"]=u},"8b2b":function(e,t,l){"use strict";l("14f4")},"8c07":function(e,t,l){"use strict";var o=l("7a23");const a={class:"sidebar"},n=["href"];function r(e,t,l,r,c,i){return Object(o["openBlock"])(),Object(o["createElementBlock"])("aside",a,[Object(o["createElementVNode"])("nav",null,[Object(o["createElementVNode"])("ul",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.menuItems,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:e.name,class:Object(o["normalizeClass"])({active:e.active})},[Object(o["createElementVNode"])("a",{href:e.link},Object(o["toDisplayString"])(e.name),9,n)],2))),128))])])])}var c=Object(o["defineComponent"])({name:"SidebarComponent",props:{menuItems:{type:Array,required:!0}}}),i=(l("9261"),l("6b0d")),d=l.n(i);const s=d()(c,[["render",r],["__scopeId","data-v-74b7da77"]]);t["a"]=s},9261:function(e,t,l){"use strict";l("d558")},9529:function(e,t,l){"use strict";var o=l("7a23");const a={class:"image-upload-container"};function n(e,t,l,n,r,c){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[Object(o["createElementVNode"])("input",{type:"file",onChange:t[0]||(t[0]=(...t)=>e.handleFileUpload&&e.handleFileUpload(...t)),accept:".png, .jpg, .jpeg, .csv",class:"file-input"},null,32)])}var r=Object(o["defineComponent"])({name:"ImageUpload",emits:["update:file"],setup(e,{emit:t}){const l=e=>{const l=e.target,o=l.files,a=o&&o[0];a&&t("update:file",a)};return{handleFileUpload:l}}}),c=(l("8b2b"),l("6b0d")),i=l.n(c);const d=i()(r,[["render",n],["__scopeId","data-v-923aba26"]]);t["a"]=d},b3b1:function(e,t,l){"use strict";l.r(t);var o=l("7a23"),a=l("c121"),n=l.n(a);const r={class:"profile"},c={class:"image-upload-container"},i={class:"profile-container"},d={class:"form-group"},s={key:0,class:"error"};function m(e,t,l,a,m,u){const p=Object(o["resolveComponent"])("NavBar"),b=Object(o["resolveComponent"])("ImageUpload"),O=Object(o["resolveComponent"])("InputField"),j=Object(o["resolveComponent"])("ButtonComponent");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,[Object(o["createVNode"])(p,{menuItems:e.filteredMenuItems},null,8,["menuItems"]),Object(o["createElementVNode"])("div",c,[t[6]||(t[6]=Object(o["createElementVNode"])("label",{for:"profileImage",class:"profile-image-label"},[Object(o["createElementVNode"])("img",{src:n.a,alt:"Profile Image",class:"profile-image"})],-1)),Object(o["createVNode"])(b,{"onUpdate:file":e.handleFile,required:""},null,8,["onUpdate:file"])]),Object(o["createElementVNode"])("main",i,[t[7]||(t[7]=Object(o["createElementVNode"])("h2",null,"Mon Profil",-1)),Object(o["createElementVNode"])("form",{class:"profile-form",onSubmit:t[5]||(t[5]=Object(o["withModifiers"])((...t)=>e.updateProfile&&e.updateProfile(...t),["prevent"]))},[Object(o["createElementVNode"])("div",d,[Object(o["createVNode"])(O,{id:"name",label:"Nom",modelValue:e.form.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.name=t),type:"text",placeholder:"Nom",disabled:"",required:""},null,8,["modelValue"]),Object(o["createVNode"])(O,{id:"email",label:"Email",modelValue:e.form.email,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.email=t),type:"email",placeholder:"Votre email","error-message":e.emailError,disabled:"",required:""},null,8,["modelValue","error-message"]),Object(o["createVNode"])(O,{id:"password",label:"Mot de passe",modelValue:e.form.password,"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.password=t),type:"password",placeholder:"Votre mot de passe","error-message":e.passwordError,disabled:"",required:""},null,8,["modelValue","error-message"]),Object(o["createVNode"])(O,{id:"confirmpassword",label:"Confirmez le mot de passe",modelValue:e.form.confirmPassword,"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.confirmPassword=t),type:"password",placeholder:"Confirmez votre mot de passe",disabled:"",required:""},null,8,["modelValue"]),Object(o["createVNode"])(O,{id:"role",label:"role",modelValue:e.form.role,"onUpdate:modelValue":t[4]||(t[4]=t=>e.form.role=t),type:"text",placeholder:"Votre role",disabled:"",required:""},null,8,["modelValue"])]),Object(o["createVNode"])(j,{type:"submit",class:"btn-primary",disabled:e.loading},{default:Object(o["withCtx"])(()=>[e.loading?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createTextVNode"])("Chargement...")],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createTextVNode"])("Enregistrer")],64))]),_:1},8,["disabled"]),e.apiError?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",s,Object(o["toDisplayString"])(e.apiError),1)):Object(o["createCommentVNode"])("",!0)],32)])])}var u=l("8c07"),p=l("e4c3"),b=l("d000"),O=l("8192"),j=l("3724"),f=l("9529"),g=l("6605"),v=l("dfd5"),V=Object(o["defineComponent"])({name:"Profile",components:{SidebarComponent:u["a"],ButtonComponent:p["a"],InputField:O["a"],SelectComponent:j["a"],ImageUpload:f["a"],NavBar:b["a"]},props:{entityType:{type:String,required:!0}},setup(e){const t=Object(o["ref"])(localStorage.getItem("role")||"User"),l=Object(o["ref"])(localStorage.getItem("id")||"1"),a=Object(o["ref"])([]),n=(Object(g["c"])(),Object(o["reactive"])({name:"",username:"",email:"",password:"",confirmPassword:"",birthDate:"",phoneNumber:"",gender:"",address:"",file:null,role:""})),r=null,c="../assets/user.png",i=e=>{n.file=e},d=Object(o["ref"])(""),s=Object(o["ref"])(""),m=Object(o["ref"])(""),u=Object(o["ref"])(!1);Object(o["onMounted"])(async()=>{try{const e=await Object(v["b"])(l.value);e?(console.log(e),a.value=e):console.warn("Aucune donnée reçue pour le profile de l'utilisateurs.")}catch(e){console.error("Une erreur est survenue :",e)}});const p=()=>(u.value=!0,d.value="",s.value="",m.value="",b(n.email)?n.password.length<6?(s.value="Le mot de passe doit contenir au moins 6 caractères.",void(u.value=!1)):void console.log("Mise à jour du profil :",n):(d.value="Veuillez entrer une adresse email valide.",void(u.value=!1))),b=e=>{const t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return t.test(e.trim())},O=Object(o["ref"])([{name:"Tableau de Bord",link:"/dashboard",active:!1,visibleTo:["Admin","Client","Manager","Utilisateur"]},{name:"Liste des Utilisateurs",link:"/liste",active:!1,visibleTo:["Admin","Client","Manager"]},{name:"Mon Profil",link:"/profile",active:!0,visibleTo:["Admin","Client","Manager","Utilisateur"]}]),j=O.value.filter(e=>e.visibleTo.includes(t.value));return{role:t,userId:l,menuItems:O,users:a,form:n,updateProfile:p,emailError:d,handleFile:i,passwordError:s,apiError:m,loading:u,previewImage:r,defaultImage:c,filteredMenuItems:j}}}),k=l("6b0d"),y=l.n(k);const E=y()(V,[["render",m]]);t["default"]=E},be8d:function(e,t,l){"use strict";l("d2e2")},c121:function(e,t,l){e.exports=l.p+"img/user.399c5f70.png"},d000:function(e,t,l){"use strict";var o=l("7a23");const a={class:"navbar"};function n(e,t,l,n,r,c){const i=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("header",a,[t[1]||(t[1]=Object(o["createElementVNode"])("div",{class:"logo"},[Object(o["createElementVNode"])("a",{href:"/"},"MonLogo")],-1)),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["menu",{active:e.isMenuOpen}])},[Object(o["createElementVNode"])("ul",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.menuItems,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:e.name,class:Object(o["normalizeClass"])({active:e.active})},[Object(o["createVNode"])(i,{class:"link",to:e.link},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.name),1)]),_:2},1032,["to"])],2))),128))])],2),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["menu",{active:e.isMenuOpen}])},[Object(o["createElementVNode"])("ul",null,[Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("a",{href:"#",onClick:t[0]||(t[0]=Object(o["withModifiers"])((...t)=>e.logout&&e.logout(...t),["prevent"]))},"Déconnexion")])])],2)])])}var r=l("6605"),c=Object(o["defineComponent"])({name:"NavbarComponent",props:{menuItems:{type:Array,required:!0}},setup(){const e=Object(r["c"])(),t=()=>{localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("role"),e.push("/")};return{logout:t}},data(){return{isMenuOpen:!1}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen}}}),i=l("6b0d"),d=l.n(i);const s=d()(c,[["render",n]]);t["a"]=s},d2e2:function(e,t,l){},d558:function(e,t,l){}}]);
//# sourceMappingURL=chunk-5f0e1f58.60398a7d.js.map
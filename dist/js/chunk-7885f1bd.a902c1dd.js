(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7885f1bd"],{"45f6":function(e,t,n){},"8c07":function(e,t,n){"use strict";var c=n("7a23");const l={class:"sidebar"},o=["href"];function a(e,t,n,a,r,i){return Object(c["openBlock"])(),Object(c["createElementBlock"])("aside",l,[Object(c["createElementVNode"])("nav",null,[Object(c["createElementVNode"])("ul",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.menuItems,e=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{key:e.name,class:Object(c["normalizeClass"])({active:e.active})},[Object(c["createElementVNode"])("a",{href:e.link},Object(c["toDisplayString"])(e.name),9,o)],2))),128))])])])}var r=Object(c["defineComponent"])({name:"SidebarComponent",props:{menuItems:{type:Array,required:!0}}}),i=(n("9261"),n("6b0d")),s=n.n(i);const d=s()(r,[["render",a],["__scopeId","data-v-74b7da77"]]);t["a"]=d},9261:function(e,t,n){"use strict";n("d558")},a3f3:function(e,t,n){"use strict";n("45f6")},d000:function(e,t,n){"use strict";var c=n("7a23");const l={class:"navbar"};function o(e,t,n,o,a,r){const i=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[Object(c["createElementVNode"])("header",l,[t[1]||(t[1]=Object(c["createElementVNode"])("div",{class:"logo"},[Object(c["createElementVNode"])("a",{href:"/"},"MonLogo")],-1)),Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["menu",{active:e.isMenuOpen}])},[Object(c["createElementVNode"])("ul",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.menuItems,e=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{key:e.name,class:Object(c["normalizeClass"])({active:e.active})},[Object(c["createVNode"])(i,{class:"link",to:e.link},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.name),1)]),_:2},1032,["to"])],2))),128))])],2),Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["menu",{active:e.isMenuOpen}])},[Object(c["createElementVNode"])("ul",null,[Object(c["createElementVNode"])("li",null,[Object(c["createElementVNode"])("a",{href:"#",onClick:t[0]||(t[0]=Object(c["withModifiers"])((...t)=>e.logout&&e.logout(...t),["prevent"]))},"Déconnexion")])])],2)])])}var a=n("6605"),r=Object(c["defineComponent"])({name:"NavbarComponent",props:{menuItems:{type:Array,required:!0}},setup(){const e=Object(a["c"])(),t=()=>{localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("role"),e.push("/")};return{logout:t}},data(){return{isMenuOpen:!1}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen}}}),i=n("6b0d"),s=n.n(i);const d=s()(r,[["render",o]]);t["a"]=d},d558:function(e,t,n){},e4c3:function(e,t,n){"use strict";var c=n("7a23");const l=["type","disabled"];function o(e,t,n,o,a,r){return Object(c["openBlock"])(),Object(c["createElementBlock"])("button",{type:e.type,disabled:e.disabled,onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t)),class:Object(c["normalizeClass"])(["button",{"button--disabled":e.disabled}])},[Object(c["renderSlot"])(e.$slots,"default",{},void 0,!0)],10,l)}var a=Object(c["defineComponent"])({name:"Button",props:{type:{type:String,required:!1,default:"button"},disabled:{type:Boolean,required:!1,default:!1}},emits:["click"],methods:{onClick(e){this.disabled||this.$emit("click",e)}}}),r=(n("a3f3"),n("6b0d")),i=n.n(r);const s=i()(a,[["render",o],["__scopeId","data-v-5b505ce3"]]);t["a"]=s},f6e6:function(e,t,n){"use strict";n.r(t);var c=n("7a23");const l={class:"dashboard"},o={class:"client-container"},a={key:0,class:"client-table"},r=["onClick"],i=["onClick"],s={key:1};function d(e,t,n,d,b,u){const m=Object(c["resolveComponent"])("NavBar"),O=Object(c["resolveComponent"])("ButtonComponent"),j=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createVNode"])(m,{menuItems:e.filteredMenuItems},null,8,["menuItems"]),Object(c["createElementVNode"])("main",o,[t[5]||(t[5]=Object(c["createElementVNode"])("h1",null,"Liste des Utilisateurs",-1)),Object(c["createVNode"])(O,{onClick:t[0]||(t[0]=t=>e.addUser())},{default:Object(c["withCtx"])(()=>t[1]||(t[1]=[Object(c["createTextVNode"])("Ajouter")])),_:1}),e.entities.length>0?(Object(c["openBlock"])(),Object(c["createElementBlock"])("table",a,[t[2]||(t[2]=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",null,"Nom complet"),Object(c["createElementVNode"])("th",null,"Email"),Object(c["createElementVNode"])("th",null,"Tache"),Object(c["createElementVNode"])("th",null,"Status"),Object(c["createElementVNode"])("th",null,"Rôle"),Object(c["createElementVNode"])("th",null,"Actions")])],-1)),Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.entities,t=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:t.id},[Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.name),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.email),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.task),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.status),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.role),1),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("button",{onClick:n=>e.editEntity(t.id),class:"edit-button"},"Éditer",8,r),Object(c["createElementVNode"])("button",{onClick:n=>e.deleteEntity(t.id),class:"delete-button"},"Supprimer",8,i)])]))),128))])])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",s,[Object(c["createTextVNode"])("Aucun "+Object(c["toDisplayString"])(e.entityTitle.toLowerCase())+" trouvé ",1),Object(c["createVNode"])(j,{to:"/addUser"},{default:Object(c["withCtx"])(()=>t[3]||(t[3]=[Object(c["createTextVNode"])("Ajouter ici")])),_:1}),t[4]||(t[4]=Object(c["createTextVNode"])("."))]))])])}var b=n("e4c3"),u=n("8c07"),m=n("d000"),O=n("6605"),j=n("3a50"),p=n("5d04"),k=Object(c["defineComponent"])({name:"List",components:{ButtonComponent:b["a"],SidebarComponent:u["a"],NavBar:m["a"]},setup(){Object(p["a"])();const e=Object(c["ref"])([]),t=Object(c["ref"])(""),n=localStorage.getItem("role")||"Utilisateur",l=localStorage.getItem("token"),o=Object(c["ref"])([{name:"Tableau de Bord",link:"/dashboard",active:!1,visibleTo:["Admin","Client","Manager","Utilisateur"]},{name:"Liste des Utilisateurs",link:"/liste",active:!1,visibleTo:["Admin","Client","Manager"]},{name:"Mon Profil",link:"/profile",active:!0,visibleTo:["Admin","Client","Manager","Utilisateur"]}]),a=o.value.filter(e=>e.visibleTo.includes(n)),r=Object(O["c"])();Object(c["onMounted"])(async()=>{try{const c=n;switch(c){case"Admin":t.value="Admin";break;case"Client":t.value="Client";break;case"Manager":t.value="Manager";break;case"Utilisateur":t.value="Utilisateur";break;default:return void console.warn("Type d'entité inconnu: "+c)}if(console.log(t.value),l){const t=await Object(j["b"])(n,l);console.log(n),e.value=t}else console.error("authentication token is missing")}catch(c){console.error("Une erreur est survenue lors de la récupération des données.",c)}});const i=e=>{console.log("Edit entity:",e)},s=e=>{console.log("Delete entity with ID:",e)},d=()=>{r.push("/addUser")};return{entities:e,entityTitle:t,menuItems:o,editEntity:i,deleteEntity:s,addUser:d,filteredMenuItems:a,role:n}}}),v=n("6b0d"),E=n.n(v);const f=E()(k,[["render",d]]);t["default"]=f}}]);
//# sourceMappingURL=chunk-7885f1bd.a902c1dd.js.map
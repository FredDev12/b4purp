(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-471bb716"],{"45f6":function(e,t,n){},4601:function(e,t,n){"use strict";n.r(t);var o=n("7a23");const c={class:"dashboard"},l={class:"dashboard-container"},a={key:0},r={key:1},i={key:2},s={key:3};function u(e,t,n,u,d,m){const b=Object(o["resolveComponent"])("NavBar"),O=Object(o["resolveComponent"])("ButtonComponent");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["createVNode"])(b,{menuItems:e.filteredMenuItems},null,8,["menuItems"]),Object(o["createElementVNode"])("main",l,[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("h1",null,"Bienvenue sur le tableau de bord, "+Object(o["toDisplayString"])(e.username)+" ("+Object(o["toDisplayString"])(e.role)+") !",1),Object(o["createVNode"])(O,{onClick:e.logout},{default:Object(o["withCtx"])(()=>t[0]||(t[0]=[Object(o["createTextVNode"])("Se déconnecter")])),_:1},8,["onClick"])]),"Admin"===e.role?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,t[1]||(t[1]=[Object(o["createElementVNode"])("h2",null,"Section Admin",-1),Object(o["createElementVNode"])("p",null,"Vous avez accès à toutes les fonctionnalités administratives.",-1)]))):"Manager"===e.role?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,t[2]||(t[2]=[Object(o["createElementVNode"])("h2",null,"Section Manager",-1),Object(o["createElementVNode"])("p",null,"Vous pouvez gérer les utilisateurs et consulter les rapports.",-1)]))):"Client"===e.role?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",i,t[3]||(t[3]=[Object(o["createElementVNode"])("h2",null,"Section Client",-1),Object(o["createElementVNode"])("p",null,"Vous pouvez consulter vos données personnelles et gérer votre profil.",-1)]))):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,t[4]||(t[4]=[Object(o["createElementVNode"])("h2",null,"Section Utilisateur",-1),Object(o["createElementVNode"])("p",null,"Vous avez un accès limité aux fonctionnalités.",-1)])))])])}var d=n("e4c3"),m=n("8c07"),b=n("d000"),O=n("6605"),j=Object(o["defineComponent"])({name:"Dashboard",components:{ButtonComponent:d["a"],SidebarComponent:m["a"],NavBar:b["a"]},data(){return{menuItems:[],username:"Invité",role:"User"}},props:{entityType:{type:String,required:!0}},setup(e){const t=Object(O["c"])(),n=Object(o["ref"])(localStorage.getItem("name")||"Invité"),c=Object(o["ref"])(localStorage.getItem("role")||"User"),l=Object(o["ref"])([{name:"Tableau de Bord",link:"/dashboard",active:!0,visibleTo:["Admin","Client","Manager","Utilisateur"]},{name:"Gestion Utilisateur",link:"/liste",active:!1,visibleTo:["Admin","Client","Manager"]},{name:"Profil d'utilisateur",link:"/profile",active:!1,visibleTo:["Admin","Client","Manager","Utilisateur"]}]),a=l.value.filter(e=>e.visibleTo.includes(c.value));console.log("Admin"===e.entityType),console.log(c.value),Object(o["onMounted"])(()=>{n.value&&c.value||t.push({name:"Login"})});const r=()=>{localStorage.removeItem("username"),localStorage.removeItem("role"),localStorage.removeItem("token"),t.push({name:"Login"})};return{username:n,role:c,menuItems:l,logout:r,filteredMenuItems:a}}}),p=n("6b0d"),v=n.n(p);const k=v()(j,[["render",u]]);t["default"]=k},"8c07":function(e,t,n){"use strict";var o=n("7a23");const c={class:"sidebar"},l=["href"];function a(e,t,n,a,r,i){return Object(o["openBlock"])(),Object(o["createElementBlock"])("aside",c,[Object(o["createElementVNode"])("nav",null,[Object(o["createElementVNode"])("ul",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.menuItems,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:e.name,class:Object(o["normalizeClass"])({active:e.active})},[Object(o["createElementVNode"])("a",{href:e.link},Object(o["toDisplayString"])(e.name),9,l)],2))),128))])])])}var r=Object(o["defineComponent"])({name:"SidebarComponent",props:{menuItems:{type:Array,required:!0}}}),i=(n("9261"),n("6b0d")),s=n.n(i);const u=s()(r,[["render",a],["__scopeId","data-v-74b7da77"]]);t["a"]=u},9261:function(e,t,n){"use strict";n("d558")},a3f3:function(e,t,n){"use strict";n("45f6")},d000:function(e,t,n){"use strict";var o=n("7a23");const c={class:"navbar"};function l(e,t,n,l,a,r){const i=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("header",c,[t[1]||(t[1]=Object(o["createElementVNode"])("div",{class:"logo"},[Object(o["createElementVNode"])("a",{href:"/"},"MonLogo")],-1)),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["menu",{active:e.isMenuOpen}])},[Object(o["createElementVNode"])("ul",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.menuItems,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:e.name,class:Object(o["normalizeClass"])({active:e.active})},[Object(o["createVNode"])(i,{to:e.link},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.name),1)]),_:2},1032,["to"])],2))),128))])],2),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["menu",{active:e.isMenuOpen}])},[Object(o["createElementVNode"])("ul",null,[Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("a",{href:"#",onClick:t[0]||(t[0]=Object(o["withModifiers"])((...t)=>e.logout&&e.logout(...t),["prevent"]))},"Déconnexion")])])],2)])])}var a=n("6605"),r=Object(o["defineComponent"])({name:"NavbarComponent",props:{menuItems:{type:Array,required:!0}},setup(){const e=Object(a["c"])(),t=()=>{localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("role"),e.push("/")};return{logout:t}},data(){return{isMenuOpen:!1}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen}}}),i=n("6b0d"),s=n.n(i);const u=s()(r,[["render",l]]);t["a"]=u},d558:function(e,t,n){},e4c3:function(e,t,n){"use strict";var o=n("7a23");const c=["type","disabled"];function l(e,t,n,l,a,r){return Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{type:e.type,disabled:e.disabled,onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t)),class:Object(o["normalizeClass"])(["button",{"button--disabled":e.disabled}])},[Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0)],10,c)}var a=Object(o["defineComponent"])({name:"Button",props:{type:{type:String,required:!1,default:"button"},disabled:{type:Boolean,required:!1,default:!1}},emits:["click"],methods:{onClick(e){this.disabled||this.$emit("click",e)}}}),r=(n("a3f3"),n("6b0d")),i=n.n(r);const s=i()(a,[["render",l],["__scopeId","data-v-5b505ce3"]]);t["a"]=s}}]);
//# sourceMappingURL=chunk-471bb716.e1950137.js.map
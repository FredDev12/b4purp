(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e24bca86"],{"0da1":function(e,t,l){"use strict";l("7233")},"14f4":function(e,t,l){},3724:function(e,t,l){"use strict";var o=l("7a23");const a={for:"select",class:"select-label"},n=["id"],r=["value"];function c(e,t,l,c,i,s){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("label",a,Object(o["toDisplayString"])(e.label),1),Object(o["withDirectives"])(Object(o["createElementVNode"])("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedOption=t),class:"gender-select",id:e.uniqueId},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.options,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("option",{key:e.value,value:e.value},Object(o["toDisplayString"])(e.label),9,r))),128))],8,n),[[o["vModelSelect"],e.selectedOption]])])}var i=Object(o["defineComponent"])({name:"SelectComponent",props:{modelValue:{type:String,required:!1},options:{type:Array,required:!0},label:{type:String,default:"Sélectionnez une option"},id:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const l=Object(o["computed"])(()=>e.id||"select-"+Math.random().toString(36).substr(2,9)),a=Object(o["computed"])({get:()=>e.modelValue,set:e=>t("update:modelValue",e)});return{selectedOption:a,options:e.options,uniqueId:l}}}),s=(l("0da1"),l("6b0d")),d=l.n(s);const u=d()(i,[["render",c],["__scopeId","data-v-657b3cd4"]]);t["a"]=u},"45f6":function(e,t,l){},"4d62":function(e,t,l){"use strict";l.r(t);var o=l("7a23");const a={class:"register"},n={class:"form-group"},r={key:0,class:"error"};function c(e,t,l,c,i,s){const d=Object(o["resolveComponent"])("NavBar"),u=Object(o["resolveComponent"])("InputField"),m=Object(o["resolveComponent"])("SelectComponent"),p=Object(o["resolveComponent"])("ImageUpload"),b=Object(o["resolveComponent"])("ButtonComponent");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(d,{menuItems:e.filteredMenuItems},null,8,["menuItems"]),Object(o["createElementVNode"])("div",a,[t[12]||(t[12]=Object(o["createElementVNode"])("h1",null,"Ajouter un User",-1)),Object(o["createElementVNode"])("form",{onSubmit:t[9]||(t[9]=Object(o["withModifiers"])((...t)=>e.handleRegister&&e.handleRegister(...t),["prevent"]))},[Object(o["createElementVNode"])("div",n,[t[11]||(t[11]=Object(o["createElementVNode"])("label",null,"Type d'utilisateur:",-1)),Object(o["withDirectives"])(Object(o["createElementVNode"])("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.userType=t)},t[10]||(t[10]=[Object(o["createElementVNode"])("option",{value:""},"Sélectionnez le type",-1),Object(o["createElementVNode"])("option",{value:"Utilisateur"},"Utilisateur",-1),Object(o["createElementVNode"])("option",{value:"Manager"},"Manager",-1)]),512),[[o["vModelSelect"],e.userType]]),Object(o["createVNode"])(u,{id:"name",label:"Nom",modelValue:e.form.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.name=t),type:"text",placeholder:"Nom",required:""},null,8,["modelValue"]),Object(o["createVNode"])(u,{id:"email",label:"Email",modelValue:e.form.email,"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.email=t),type:"email",placeholder:"Votre email","error-message":e.emailError,required:""},null,8,["modelValue","error-message"]),Object(o["createVNode"])(u,{id:"password",label:"Mot de passe",modelValue:e.form.password,"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.password=t),type:"password",placeholder:"Votre mot de passe","error-message":e.passwordError,required:""},null,8,["modelValue","error-message"]),Object(o["createVNode"])(u,{id:"password",label:"Confirmez le Mot de passe",modelValue:e.form.confirmPassword,"onUpdate:modelValue":t[4]||(t[4]=t=>e.form.confirmPassword=t),type:"password",placeholder:"Confirmez le mot de passe","error-message":e.passwordError,required:""},null,8,["modelValue","error-message"]),"Utilisateur"===e.userType?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,label:"Sélectionnez un Manager",modelValue:e.form.managerId,"onUpdate:modelValue":t[5]||(t[5]=t=>e.form.managerId=t),options:e.managerOptions,placeholder:"Sélectionnez un Manager"},null,8,["modelValue","options"])):Object(o["createCommentVNode"])("",!0),"Manager"===e.userType?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:1,label:"Sélectionnez un Client",modelValue:e.form.clientId,"onUpdate:modelValue":t[6]||(t[6]=t=>e.form.clientId=t),options:e.clientOptions,placeholder:"Sélectionnez un Client"},null,8,["modelValue","options"])):Object(o["createCommentVNode"])("",!0),"Utilisateur"===e.userType?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:2,id:"task",label:"tache",modelValue:e.form.task,"onUpdate:modelValue":t[7]||(t[7]=t=>e.form.task=t),type:"text",placeholder:"Confirmez le mot de passe",options:e.managerOptions,"error-message":e.passwordError,required:""},null,8,["modelValue","options","error-message"])):Object(o["createCommentVNode"])("",!0),"Utilisateur"===e.userType?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:3,id:"etat",label:"status",modelValue:e.form.etat,"onUpdate:modelValue":t[8]||(t[8]=t=>e.form.etat=t),type:"text",placeholder:"Confirmez le mot de passe",options:e.managerOptions,"error-message":e.passwordError,required:""},null,8,["modelValue","options","error-message"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,{"onUpdate:file":e.handleFile,required:""},null,8,["onUpdate:file"])]),Object(o["createVNode"])(b,{type:"submit",class:"btn-primary",disabled:e.loading},{default:Object(o["withCtx"])(()=>[e.loading?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createTextVNode"])("Chargement...")],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createTextVNode"])("Ajouter")],64))]),_:1},8,["disabled"]),e.apiError?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",r,Object(o["toDisplayString"])(e.apiError),1)):Object(o["createCommentVNode"])("",!0)],32)])],64)}var i=l("6605"),s=l("3a50"),d=l("e4c3"),u=l("8192"),m=l("3724"),p=l("9529"),b=l("d000"),O=l("5d04"),j=Object(o["defineComponent"])({name:"Register",components:{ButtonComponent:d["a"],InputField:u["a"],SelectComponent:m["a"],ImageUpload:p["a"],NavBar:b["a"]},data(){return{filteredMenuItems:[],username:"Invité",role:"User",userRole:"User"}},setup(){Object(i["c"])();const e=Object(O["a"])(),t=Object(o["ref"])(localStorage.getItem("role")||"User"),l=Object(o["ref"])(""),a=Object(o["reactive"])({name:"",email:"",password:"",confirmPassword:"",file:null,role:"",managerId:"",clientId:"",utilisateurId:"",task:"",etat:""}),n=Object(o["ref"])([]),r=Object(o["ref"])([]),c=e=>{a.file=e},d=Object(o["ref"])(""),u=Object(o["ref"])(""),m=Object(o["ref"])(""),p=Object(o["ref"])(!1),b=Object(o["ref"])([{name:"Tableau de Bord",link:"/dashboard",active:!1,visibleTo:["Admin","Client","Manager","Utilisateur"]},{name:"Liste des Utilisateurs",link:"/liste",active:!1,visibleTo:["Admin","Client","Manager"]},{name:"Mon Profil",link:"/profile",active:!0,visibleTo:["Admin","Client","Manager","Utilisateur"]}]),j=b.value.filter(e=>e.visibleTo.includes(t.value)),f=async()=>{try{return e.users.map(e=>({value:e.id.toString(),label:e.name}))}catch(t){console.error("Failed to fetch managers:",t)}},g=async()=>{try{return e.users.map(e=>({value:e.id.toString(),label:e.name}))}catch(t){console.error("Failed to fetch clients:",t)}};Object(o["watch"])(l,async e=>{"user"===e?n.value=await f()||[]:"manager"===e&&(r.value=await g()||[])});const v=async()=>{console.log(a),p.value=!0,d.value="",u.value="",m.value="";l.value;try{console.log(a),await Object(s["g"])(a)}catch(e){console.error("Registration failed:",e),m.value="Une erreur est survenue lors de l'inscription. Veuillez réessayer."}finally{p.value=!1}};return{handleRegister:v,form:a,filteredMenuItems:j,emailError:d,handleFile:c,role:t,passwordError:u,apiError:m,userType:l,loading:p,managerOptions:n,clientOptions:r}}}),f=l("6b0d"),g=l.n(f);const v=g()(j,[["render",c]]);t["default"]=v},7233:function(e,t,l){},8192:function(e,t,l){"use strict";var o=l("7a23");const a={class:"input-field"},n=["for"],r=["id","type","value","placeholder","disabled","maxlength","minlength"],c={key:1,class:"error-message"};function i(e,t,l,i,s,d){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[e.label?(Object(o["openBlock"])(),Object(o["createElementBlock"])("label",{key:0,for:e.id,class:"input-label"},Object(o["toDisplayString"])(e.label),9,n)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("input",{id:e.id,type:e.type,value:e.modelValue,placeholder:e.placeholder,disabled:e.disabled,maxlength:e.maxlength,minlength:e.minlength,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),class:"input"},null,40,r),e.errorMessage?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",c,Object(o["toDisplayString"])(e.errorMessage),1)):Object(o["createCommentVNode"])("",!0)])}var s=Object(o["defineComponent"])({name:"InputField",props:{id:{type:String,required:!0},label:{type:String,required:!0},type:{type:String,default:"text"},modelValue:{type:String,required:!0},placeholder:{type:String,required:!0},disabled:{type:Boolean,required:!1,default:!1},maxlength:{type:Number,required:!1},minlength:{type:Number,required:!1},errorMessage:{type:String,required:!1}}}),d=(l("be8d"),l("6b0d")),u=l.n(d);const m=u()(s,[["render",i],["__scopeId","data-v-424e3b7f"]]);t["a"]=m},"8b2b":function(e,t,l){"use strict";l("14f4")},9529:function(e,t,l){"use strict";var o=l("7a23");const a={class:"image-upload-container"};function n(e,t,l,n,r,c){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[Object(o["createElementVNode"])("input",{type:"file",onChange:t[0]||(t[0]=(...t)=>e.handleFileUpload&&e.handleFileUpload(...t)),accept:".png, .jpg, .jpeg, .csv",class:"file-input"},null,32)])}var r=Object(o["defineComponent"])({name:"ImageUpload",emits:["update:file"],setup(e,{emit:t}){const l=e=>{const l=e.target,o=l.files,a=o&&o[0];a&&t("update:file",a)};return{handleFileUpload:l}}}),c=(l("8b2b"),l("6b0d")),i=l.n(c);const s=i()(r,[["render",n],["__scopeId","data-v-923aba26"]]);t["a"]=s},a3f3:function(e,t,l){"use strict";l("45f6")},be8d:function(e,t,l){"use strict";l("d2e2")},d000:function(e,t,l){"use strict";var o=l("7a23");const a={class:"navbar"};function n(e,t,l,n,r,c){const i=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("header",a,[t[1]||(t[1]=Object(o["createElementVNode"])("div",{class:"logo"},[Object(o["createElementVNode"])("a",{href:"/"},"MonLogo")],-1)),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["menu",{active:e.isMenuOpen}])},[Object(o["createElementVNode"])("ul",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.menuItems,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:e.name,class:Object(o["normalizeClass"])({active:e.active})},[Object(o["createVNode"])(i,{class:"link",to:e.link},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.name),1)]),_:2},1032,["to"])],2))),128))])],2),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["menu",{active:e.isMenuOpen}])},[Object(o["createElementVNode"])("ul",null,[Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("a",{href:"#",onClick:t[0]||(t[0]=Object(o["withModifiers"])((...t)=>e.logout&&e.logout(...t),["prevent"]))},"Déconnexion")])])],2)])])}var r=l("6605"),c=Object(o["defineComponent"])({name:"NavbarComponent",props:{menuItems:{type:Array,required:!0}},setup(){const e=Object(r["c"])(),t=()=>{localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("role"),e.push("/")};return{logout:t}},data(){return{isMenuOpen:!1}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen}}}),i=l("6b0d"),s=l.n(i);const d=s()(c,[["render",n]]);t["a"]=d},d2e2:function(e,t,l){},e4c3:function(e,t,l){"use strict";var o=l("7a23");const a=["type","disabled"];function n(e,t,l,n,r,c){return Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{type:e.type,disabled:e.disabled,onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t)),class:Object(o["normalizeClass"])(["button",{"button--disabled":e.disabled}])},[Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0)],10,a)}var r=Object(o["defineComponent"])({name:"Button",props:{type:{type:String,required:!1,default:"button"},disabled:{type:Boolean,required:!1,default:!1}},emits:["click"],methods:{onClick(e){this.disabled||this.$emit("click",e)}}}),c=(l("a3f3"),l("6b0d")),i=l.n(c);const s=i()(r,[["render",n],["__scopeId","data-v-5b505ce3"]]);t["a"]=s}}]);
//# sourceMappingURL=chunk-e24bca86.bafa6d89.js.map
{"version":3,"file":"js/500.a0f1014a.js","mappings":"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","sources":["webpack://frontend/./src/components/NavBar.vue","webpack://frontend/./src/components/NavBar.vue?01fd","webpack://frontend/./src/components/SidebarComponent.vue","webpack://frontend/./src/components/SidebarComponent.vue?df95","webpack://frontend/./src/views/contract.vue","webpack://frontend/./src/views/contract.vue?d6a7","webpack://frontend/./src/store/Storage.js"],"sourcesContent":["<template>\r\n    <div>\r\n      <!-- Navbar (Header) -->\r\n      <header class=\"navbar\">\r\n        <!-- Logo -->\r\n        <div class=\"logo\">\r\n          <a href=\"/\">MonLogo</a>\r\n        </div>\r\n  \r\n        <!-- Menu -->\r\n        <div class=\"menu\" :class=\"{'active': isMenuOpen}\">\r\n          <ul>\r\n            <li v-for=\"item in menuItems\" :key=\"item.name\" :class=\"{ active: item.active }\">                \r\n                <router-link class=\"link\" :to=\"item.link\">{{ item.name }}</router-link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <!-- Dropdown Action Bubble -->\r\n        <div class=\"action-bubble\">\r\n           <h1 class=\"welcom\" >Bonjour, {{ username }} !</h1>\r\n        \r\n          <button @click=\"toggleDropdown\" class=\"action-button\">\r\n            <img src=\"../assets/user1.png\" alt=\"Profile\" class=\"profile-picture\" />\r\n          </button>\r\n          <div v-if=\"isDropdownOpen\" class=\"dropdown-menu\">\r\n            <ul>\r\n              <li><a href=\"#\" @click.prevent=\"profil\">Mon profil</a></li>\r\n              <li><a href=\"#\" @click.prevent=\"logout\">Se d√©connecter</a></li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n  \r\n      </header>\r\n      \r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n   import { defineComponent, PropType } from 'vue';\r\n   import { useRouter } from 'vue-router';\r\n   import { useStore } from '../store/Storage';\r\n\r\n  export default defineComponent ({\r\n    name: 'NavbarComponent',\r\n    props: {\r\n        menuItems: {\r\n        type: Array,\r\n        required: true,\r\n      },\r\n    },\r\n    setup() {\r\n      const router = useRouter();\r\n      const store = useStore();\r\n      const username = store.userProfile ? store.userProfile.name : 'Default Name';\r\n\r\n      const logout = () => {\r\n        // Suppression du token JWT du stockage local\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem(\"username\");\r\n        localStorage.removeItem(\"role\");\r\n        // Redirection vers la page de connexion\r\n        router.push('/');\r\n      };\r\n      const profil = () => {        \r\n        router.push({ name: 'profile' });\r\n      };\r\n\r\n      return {\r\n        logout,profil,username\r\n      };\r\n    },\r\n    data() {\r\n      return {\r\n        isMenuOpen: false,\r\n        isDropdownOpen: false,\r\n      };\r\n    },\r\n    methods: {\r\n      toggleMenu() {\r\n        this.isMenuOpen = !this.isMenuOpen;\r\n      },\r\n      toggleDropdown() {\r\n      this.isDropdownOpen = !this.isDropdownOpen;\r\n      },\r\n    }\r\n  });\r\n  </script>\r\n  \r\n\r\n  ","import { render } from \"./NavBar.vue?vue&type=template&id=13e4c432\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <aside class=\"sidebar\">\r\n      <nav>\r\n        <ul>\r\n          <li v-for=\"item in menuItems\" :key=\"item.name\" :class=\"{ active: item.active }\">\r\n            <a :href=\"item.link\">{{ item.name }}</a>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </aside>\r\n  </template>\r\n  \r\n  <script>\r\n  import { defineComponent, PropType } from 'vue';\r\n  \r\n  export default defineComponent({\r\n    name: 'SidebarComponent',\r\n    props: {\r\n      menuItems: {\r\n        type: Array,\r\n        required: true,\r\n      },\r\n    },\r\n  });\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .sidebar {\r\n    width: 20%;\r\n    background-color: #28a745;\r\n    padding: 20px;\r\n  }\r\n  \r\n  .sidebar ul {\r\n    list-style: none;\r\n    padding: 0;\r\n  }\r\n  \r\n  .sidebar ul li {\r\n    margin: 15px 0;\r\n  }\r\n  \r\n  .sidebar ul li a {\r\n    color: #fff;\r\n    text-decoration: none;\r\n  }\r\n  \r\n  .sidebar ul li.active a {\r\n    font-weight: bold;\r\n  }\r\n  </style>\r\n  ","import { render } from \"./SidebarComponent.vue?vue&type=template&id=8ce43eac&scoped=true\"\nimport script from \"./SidebarComponent.vue?vue&type=script&lang=js\"\nexport * from \"./SidebarComponent.vue?vue&type=script&lang=js\"\n\nimport \"./SidebarComponent.vue?vue&type=style&index=0&id=8ce43eac&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8ce43eac\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"dashboard\">\r\n      <!-- Barre lat√©rale -->\r\n      <NavBar :menuItems=\"filteredMenuItems\" />\r\n  \r\n      <!-- Contenu principal -->\r\n      <main class=\"table-container\">\r\n        <h1>Liste des Contract</h1>\r\n        <button class=\"add-button\" @click=\"addContract()\">Ajouter</button>\r\n        <table v-if=\"entities.length > 0\" class=\"client-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Nom complet</th>\r\n              <th>Description</th>\r\n              <th>Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"entity in entities\" :key=\"entity.id\">\r\n              <td>{{ entity.name }}</td>\r\n              <td>{{ entity.description }}</td>\r\n              <td>\r\n                <button @click=\"editEntity(entity.id)\" class=\"edit-button\">√âditer</button>\r\n                <button @click=\"deleteEntity(entity.id)\"  class=\"delete-button\">Supprimer</button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <p v-else>Aucun {{ entityTitle.toLowerCase() }} trouv√© <router-link to=\"/addContract\">Ajouter ici</router-link>.</p>\r\n      </main>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { defineComponent, ref, onMounted } from 'vue';\r\n  import ButtonComponent from '../components/ButtonComponent.vue';\r\n  import SidebarComponent from '../components/SidebarComponent.vue';\r\n  import NavBar from '../components/NavBar.vue';\r\n  import { useRouter } from 'vue-router';\r\n  import { getContract } from '../api/serviceAPI';\r\n  import { useStore } from '../store/Storage';\r\n  \r\n  export default defineComponent({\r\n    name: \"List\",\r\n    components: {\r\n      ButtonComponent,\r\n      SidebarComponent,\r\n      NavBar\r\n    },    \r\n    setup() {\r\n      \r\n      const store = useStore();\r\n      const entities = ref([]);\r\n      const entityTitle = ref(\"\");\r\n      const role = localStorage.getItem('role') || \"Utilisateur\";  \r\n      const token = localStorage.getItem('token');\r\n      \r\n\r\n  \r\n      // D√©finir les menus sp√©cifiques √† chaque r√¥le\r\n      const menuItems = ref([\r\n          { name: 'Tableau de Bord', link: '/dashboard', active: false, visibleTo: ['Admin', 'Client', 'Manager', 'Utilisateur'] },\r\n          { name: 'Liste des Utilisateurs', link: '/liste', active: false, visibleTo: ['Admin', 'Client', 'Manager'] },\r\n          { name: 'Liste des Contract', link: '/contract', active: true, visibleTo: ['Admin', 'Client'] },\r\n      ]);\r\n\r\n      // Filtrer les √©l√©ments du menu en fonction du r√¥le de l'utilisateur\r\n      const filteredMenuItems = menuItems.value.filter(item => item.visibleTo.includes(role));\r\n\r\n  \r\n      const router = useRouter();\r\n  \r\n      onMounted(async () => {\r\n        try {\r\n          \r\n          // Only call listUsers once, since it is used in every case\r\n          if (token) {                   \r\n          \r\n          const response = await getContract(role, token);\r\n          console.log(role);\r\n          \r\n          entities.value = response;\r\n          \r\n          \r\n        } else {\r\n          console.error(\"authentication token is missing\");\r\n          \r\n        }\r\n          \r\n      } catch (error) {\r\n          console.error(\"Une erreur est survenue lors de la r√©cup√©ration des donn√©es.\", error);\r\n      }\r\n      });\r\n  \r\n      const editEntity = (entityId) => {\r\n        console.log(\"Edit entity:\", entityId);\r\n      };\r\n  \r\n      const deleteEntity = (entityId) => {\r\n        console.log(\"Delete entity with ID:\", entityId);\r\n      };\r\n  \r\n      const addContract = () => {\r\n        router.push(\"/addContract\");\r\n      };\r\n  \r\n      return {\r\n        entities,\r\n        entityTitle,\r\n        menuItems,\r\n        editEntity,\r\n        deleteEntity,\r\n        addContract,\r\n        filteredMenuItems,\r\n        role\r\n      };\r\n    },\r\n  });\r\n  </script>\r\n  ","import { render } from \"./contract.vue?vue&type=template&id=dea78b88\"\nimport script from \"./contract.vue?vue&type=script&lang=js\"\nexport * from \"./contract.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// src/store/authStore.ts\r\nimport { defineStore } from 'pinia';\r\nimport { login, register, getUserProfile, logoutUser, listUsers, getUsers, getContract } from '../api/serviceAPI';\r\n\r\n\r\nexport const useStore = defineStore({\r\n  id: 'auth',\r\n  state: () => ({\r\n    token: localStorage.getItem('token') || null,\r\n    userProfile: null,\r\n    users: [],\r\n    userList:[],\r\n    listContract: [],\r\n    listClients: [],\r\n    listManagers: [],\r\n    listUtilisateurs: [],\r\n    isAuthenticated: !!localStorage.getItem('token'),\r\n  }),\r\n  actions: {\r\n    async performLogin(email, password) {\r\n      try {\r\n        const response = await login(email, password);\r\n        const token = response.token\r\n        const role = response.role\r\n        const userId = response.id\r\n        this.token = token;\r\n        localStorage.setItem('token', token);\r\n        localStorage.setItem('role', role);\r\n        localStorage.setItem('id', userId);\r\n        this.isAuthenticated = true;\r\n        // Fetch user profile upon successful login\r\n        await this.fetchUserProfile(token);\r\n        await this.fetchUsers(role ,token);\r\n        await this.fetchContract(role, token);\r\n      } catch (error) {\r\n        console.error('Authentication failed:', error);\r\n        throw new Error('Login failed');\r\n      }\r\n    },\r\n\r\n    async fetchUserProfile(token) {\r\n      if (!token) {\r\n        console.error('No token provided');\r\n        return;\r\n      }\r\n      try {\r\n        const response = await getUserProfile(token);\r\n        this.userProfile = response;\r\n        this.isAuthenticated = true;\r\n      } catch (error) {\r\n        console.error('Failed to fetch user profile:', error);\r\n        this.isAuthenticated = false;\r\n      }\r\n    },\r\n\r\n    async fetchUsers(role, token){\r\n      if (!token) {\r\n        console.error('No token provided');\r\n        return;\r\n      }\r\n      try {\r\n        const response = await listUsers(role, token);\r\n        console.log('storage', response);\r\n        \r\n        this.users = response;\r\n\r\n        console.log(this.users);\r\n        \r\n        this.isAuthenticated = true;\r\n      } catch (error) {\r\n        console.error('Failed to fetch user:', error);\r\n        this.isAuthenticated = false;\r\n      }\r\n\r\n    },\r\n\r\n    async fetchUsersBY(role, token){\r\n      if (!token) {\r\n        console.error('No token provided');\r\n        return;\r\n      }\r\n      try {\r\n        const response = await getUsers(role, token);\r\n        console.log('storage', response);\r\n        \r\n        this.userList = response;\r\n\r\n        console.log('liste ',this.userList);\r\n        \r\n        //this.isAuthenticated = true;\r\n      } catch (error) {\r\n        console.error('Failed to fetch user:', error);\r\n        this.isAuthenticated = false;\r\n      }\r\n\r\n    },\r\n\r\n    async fetchContract(role, token){\r\n      if (!token) {\r\n        console.error('No token provided');\r\n        return;\r\n      }\r\n      try {\r\n        const response = await getContract(role, token);\r\n        console.log('storage', response);\r\n        \r\n        this.listContract = response;\r\n\r\n        console.log('liste ',this.listContract);\r\n        \r\n        //this.isAuthenticated = true;\r\n      } catch (error) {\r\n        console.error('Failed to fetch user:', error);\r\n        this.isAuthenticated = false;\r\n      }\r\n\r\n    },\r\n    \r\n    async performLogout() {\r\n      if (!this.token) {\r\n        console.error('No token provided');\r\n        return;\r\n      }\r\n      try {\r\n        await logoutUser(this.token);\r\n        this.isAuthenticated = false;\r\n        this.userProfile = null;\r\n        localStorage.removeItem(\"token\");\r\n        localStorage.removeItem(\"role\");\r\n        localStorage.removeItem(\"id\");\r\n      } catch (error) {\r\n        console.error('Failed to logout:', error);\r\n      }\r\n    },\r\n\r\n    async addUser(payload){\r\n\r\n    },\r\n\r\n    async fetchUsersByRole(role) {\r\n      if (!this.token) {\r\n        console.error('No token provided');\r\n        return;\r\n      }\r\n      try {\r\n        const users = await listUsers( role, this.token);\r\n        if (role === 'client') {\r\n          this.listClients = users;\r\n        } else if (role === 'manager') {\r\n          this.listManagers = users;\r\n        } else {\r\n          this.listUtilisateurs = users;\r\n        }\r\n      } catch (error) {\r\n        console.error(`Failed to fetch ${role}s:`, error);\r\n      }\r\n    }\r\n  },\r\n});\r\n"],"names":["class","href","isMenuOpen","menuItems","item","key","name","active","to","link","username","toggleDropdown","src","alt","isDropdownOpen","profil","logout","props","type","Array","required","setup","router","store","userProfile","localStorage","removeItem","push","data","methods","toggleMenu","this","__exports__","render","filteredMenuItems","addContract","entities","length","entity","id","description","editEntity","deleteEntity","entityTitle","toLowerCase","components","ButtonComponent","SidebarComponent","NavBar","role","getItem","token","visibleTo","value","filter","includes","async","response","console","log","error","entityId","useStore","state","users","userList","listContract","listClients","listManagers","listUtilisateurs","isAuthenticated","actions","performLogin","email","password","userId","setItem","fetchUserProfile","fetchUsers","fetchContract","Error","fetchUsersBY","performLogout","addUser","payload","fetchUsersByRole"],"sourceRoot":""}
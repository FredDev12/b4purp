{"version":3,"file":"js/60.fea8a00d.js","mappings":"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","sources":["webpack://frontend/./src/components/InputField.vue","webpack://frontend/./src/components/InputField.vue?e0ec","webpack://frontend/./src/views/ForgotPassword.vue","webpack://frontend/./src/views/ForgotPassword.vue?1314"],"sourcesContent":["<template>\r\n  <div class=\"input-field\">\r\n    <label v-if=\"label\" :for=\"id\" class=\"input-label\">{{ label }}</label>\r\n    <input\r\n      :id=\"id\"\r\n      :type=\"type\"\r\n      :value=\"modelValue\"\r\n      :placeholder=\"placeholder\"\r\n      :disabled=\"disabled\"\r\n      :maxlength=\"maxlength\"\r\n      :minlength=\"minlength\"\r\n      @input=\"$emit('update:modelValue', ($event.target).value)\"\r\n      class=\"input\"\r\n    />\r\n    <p v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue';\r\n\r\nexport default defineComponent({\r\n  name: 'InputField',\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      required: true,\r\n      \r\n    },\r\n    label: {\r\n      type: String,\r\n      required: true,\r\n      \r\n    },\r\n    type: {\r\n      type: String,\r\n      default: 'text',\r\n    },\r\n    modelValue: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      required: true,\r\n      \r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    maxlength: {\r\n      type: Number,\r\n      required: false,\r\n    },\r\n    minlength: {\r\n      type: Number,\r\n      required: false,\r\n    },\r\n    errorMessage: {\r\n      type: String,\r\n      required: false,\r\n      \r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.input-field {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.input-label {\r\n  margin-bottom: 8px;\r\n  font-weight: bold;\r\n}\r\n\r\n.input {\r\n  padding: 8px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  font-size: 16px;\r\n}\r\n\r\n.input:focus {\r\n  border-color: #007bff;\r\n  outline: none;\r\n}\r\n\r\n.error-message {\r\n  color: red;\r\n  font-size: 14px;\r\n  margin-top: 4px;\r\n}\r\n</style>\r\n","import { render } from \"./InputField.vue?vue&type=template&id=493aa504&scoped=true\"\nimport script from \"./InputField.vue?vue&type=script&lang=js\"\nexport * from \"./InputField.vue?vue&type=script&lang=js\"\n\nimport \"./InputField.vue?vue&type=style&index=0&id=493aa504&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-493aa504\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"forgot-password\">\r\n        <h1>Mot de passe oublié</h1>\r\n        <p>\r\n            Entrez votre adresse email ci-dessous, et nous vous enverrons un lien pour réinitialiser votre mot de passe.\r\n        </p>\r\n        <form @submit.prevent=\"handleForgotPassword\">\r\n            <div class=\"form-group\">\r\n                <InputField\r\n                    id=\"email\"\r\n                    v-model=\"email\"\r\n                    type=\"email\"\r\n                    label=\"Email\"\r\n                    placeholder=\"Votre email\"\r\n                    required\r\n                />\r\n                <span v-if=\"emailError\" class=\"error-message\">{{ emailError }}</span>\r\n            </div>\r\n\r\n            <ButtonComponent type=\"submit\" class=\"btn-primary\" :disabled=\"loading\">\r\n                {{ loading ? \"Envoi en cours...\" : \"Envoyer le lien\" }}\r\n            </ButtonComponent>\r\n            <p v-if=\"successMessage\" class=\"success\">{{ successMessage }}</p>\r\n            <p v-if=\"apiError\" class=\"error-message\">{{ apiError }}</p>\r\n        </form>\r\n        <p>\r\n            <router-link to=\"/\">Retour à la connexion</router-link>\r\n        </p>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue';\r\nimport { requestPasswordReset } from '../api/serviceAPI';\r\nimport ButtonComponent from '../components/ButtonComponent.vue';\r\nimport InputField from '../components/InputField.vue';\r\n  \r\n\r\nexport default defineComponent({\r\n    name: \"resetPassword\",\r\n    components: {\r\n      ButtonComponent,\r\n      InputField,\r\n    },\r\n    data() {\r\n        return {\r\n            email: \"\",\r\n            emailError: '',\r\n            apiError: '',\r\n            successMessage: '',\r\n            loading: false,\r\n        };\r\n    },\r\n    methods: {\r\n        async handleForgotPassword() {\r\n            \r\n            // Réinitialiser les erreurs\r\n            this.emailError = null;\r\n            this.apiError = null;\r\n            this.successMessage = null;\r\n\r\n            // Validation de l'email\r\n            if (!this.validateEmail(this.email)) {\r\n                this.emailError = \"Veuillez entrer une adresse email valide.\";\r\n                return;\r\n            }\r\n            try {\r\n                this.loading = true;\r\n                // Envoi de l'email au serveur pour réinitialisation\r\n                const response = await requestPasswordReset(this.email);\r\n                console.log(response);\r\n                \r\n                // Afficher un message de succès\r\n                this.successMessage = \"Un lien de réinitialisation a été envoyé à votre adresse email.\";\r\n                this.email = '';\r\n            } catch (error) {\r\n                console.error('Erreur lors de la demande de réinitialisation :', error);\r\n                this.apiError = \"Une erreur est survenue. Veuillez vérifier l'adresse email et réessayer.\";\r\n            } finally {\r\n                this.loading = false;\r\n            }\r\n        },\r\n        validateEmail(email) {\r\n            const re = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\r\n            return re.test(email);\r\n        },\r\n    },\r\n});\r\n</script>\r\n","import { render } from \"./ForgotPassword.vue?vue&type=template&id=cf4f589e\"\nimport script from \"./ForgotPassword.vue?vue&type=script&lang=js\"\nexport * from \"./ForgotPassword.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","label","for","id","type","value","modelValue","placeholder","disabled","maxlength","minlength","$emit","$event","errorMessage","name","props","String","required","default","Boolean","Number","__exports__","render","handleForgotPassword","email","emailError","loading","successMessage","apiError","to","components","ButtonComponent","InputField","data","methods","this","validateEmail","response","console","log","error","re","test"],"sourceRoot":""}
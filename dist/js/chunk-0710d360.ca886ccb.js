(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0710d360"],{"0da1":function(e,t,o){"use strict";o("7233")},"14f4":function(e,t,o){},3724:function(e,t,o){"use strict";var l=o("7a23");const r={for:"select",class:"select-label"},n=["id"],a=["value"];function c(e,t,o,c,i,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createElementVNode"])("label",r,Object(l["toDisplayString"])(e.label),1),Object(l["withDirectives"])(Object(l["createElementVNode"])("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedOption=t),class:"gender-select",id:e.uniqueId},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.options,e=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:e.value,value:e.value},Object(l["toDisplayString"])(e.label),9,a))),128))],8,n),[[l["vModelSelect"],e.selectedOption]])])}var i=Object(l["defineComponent"])({name:"SelectComponent",props:{modelValue:{type:String,required:!1},options:{type:Array,required:!0},label:{type:String,default:"Sélectionnez une option"},id:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const o=Object(l["computed"])(()=>e.id||"select-"+Math.random().toString(36).substr(2,9)),r=Object(l["computed"])({get:()=>e.modelValue,set:e=>t("update:modelValue",e)});return{selectedOption:r,options:e.options,uniqueId:o}}}),s=(o("0da1"),o("6b0d")),d=o.n(s);const u=d()(i,[["render",c],["__scopeId","data-v-657b3cd4"]]);t["a"]=u},7233:function(e,t,o){},"73cf":function(e,t,o){"use strict";o.r(t);var l=o("7a23");const r={class:"register"},n={class:"form-group"},a={key:0,class:"error"};function c(e,t,o,c,i,s){const d=Object(l["resolveComponent"])("NavBar"),u=Object(l["resolveComponent"])("InputField"),m=Object(l["resolveComponent"])("SelectComponent"),p=Object(l["resolveComponent"])("ImageUpload"),b=Object(l["resolveComponent"])("ButtonComponent");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",r,[Object(l["createVNode"])(d,{menuItems:e.filteredMenuItems},null,8,["menuItems"]),t[6]||(t[6]=Object(l["createElementVNode"])("h1",null,"Inscription",-1)),Object(l["createElementVNode"])("form",{onSubmit:t[5]||(t[5]=Object(l["withModifiers"])((...t)=>e.handleRegister&&e.handleRegister(...t),["prevent"]))},[Object(l["createElementVNode"])("div",n,[Object(l["createVNode"])(u,{id:"name",label:"Nom",modelValue:e.form.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.name=t),type:"text",placeholder:"Nom",required:""},null,8,["modelValue"]),Object(l["createVNode"])(u,{id:"email",label:"Email",modelValue:e.form.email,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.email=t),type:"email",placeholder:"Votre email","error-message":e.emailError,required:""},null,8,["modelValue","error-message"]),Object(l["createVNode"])(u,{id:"password",label:"Mot de passe",modelValue:e.form.password,"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.password=t),type:"password",placeholder:"Votre mot de passe","error-message":e.passwordError,required:""},null,8,["modelValue","error-message"]),Object(l["createVNode"])(u,{id:"password",label:"Confirmez le Mot de passe",modelValue:e.form.confirmPassword,"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.confirmPassword=t),type:"password",placeholder:"Confirmez le mot de passe","error-message":e.passwordError,required:""},null,8,["modelValue","error-message"]),Object(l["createVNode"])(m,{id:"role",modelValue:e.form.role,"onUpdate:modelValue":t[4]||(t[4]=t=>e.form.role=t),options:e.roleOptions,label:"role",required:""},null,8,["modelValue","options"]),Object(l["createVNode"])(p,{"onUpdate:file":e.handleFile,required:""},null,8,["onUpdate:file"])]),Object(l["createVNode"])(b,{type:"submit",class:"btn-primary",disabled:e.loading},{default:Object(l["withCtx"])(()=>[e.loading?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[Object(l["createTextVNode"])("Chargement...")],64)):(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:1},[Object(l["createTextVNode"])("S'inscrire")],64))]),_:1},8,["disabled"]),e.apiError?(Object(l["openBlock"])(),Object(l["createElementBlock"])("p",a,Object(l["toDisplayString"])(e.apiError),1)):Object(l["createCommentVNode"])("",!0)],32)])}var i=o("6605"),s=o("3a50"),d=o("e4c3"),u=o("8192"),m=o("3724"),p=o("9529"),b=o("d000"),O=Object(l["defineComponent"])({name:"Register",components:{ButtonComponent:d["a"],InputField:u["a"],SelectComponent:m["a"],ImageUpload:p["a"],NavBar:b["a"]},data(){return{filteredMenuItems:[],username:"Invité",role:"User"}},setup(){const e=Object(i["c"])(),t=Object(l["ref"])(localStorage.getItem("role")||"User"),o=Object(l["reactive"])({name:"",email:"",password:"",confirmPassword:"",file:null,role:""}),r=Object(l["ref"])([{value:"Manager",label:"Manager"},{value:"Utilisateur",label:"Utilisateur"}]),n=e=>{o.file=e},a=Object(l["ref"])(""),c=Object(l["ref"])(""),d=Object(l["ref"])(""),u=Object(l["ref"])(!1),m=Object(l["ref"])([{name:"Tableau de Bord",link:"/dashboard",active:!1,visibleTo:["Admin","Client","Manager","Utilisateur"]},{name:"Liste des Utilisateurs",link:"/liste",active:!1,visibleTo:["Admin","Client","Manager"]},{name:"Mon Profil",link:"/profile",active:!0,visibleTo:["Admin","Client","Manager","Utilisateur"]}]),p=m.value.filter(e=>e.visibleTo.includes(t.value)),b=async()=>{if(console.log(o.file),u.value=!0,a.value="",c.value="",d.value="",!O(o.email))return a.value="Veuillez entrer une adresse email valide.",void(u.value=!1);if(o.password.length<6)return c.value="Le mot de passe doit contenir au moins 6 caractères.",void(u.value=!1);if(o.password!==o.confirmPassword)return c.value="Le mot de passe different",void(u.value=!1);try{console.log(o),await Object(s["g"])(o),e.push("/dashboard")}catch(t){d.value="Une erreur est survenue lors de l'inscription. Veuillez réessayer."}finally{u.value=!1}},O=e=>{const t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return t.test(e.trim())};return{handleRegister:b,form:o,filteredMenuItems:p,emailError:a,handleFile:n,role:t,passwordError:c,apiError:d,loading:u,roleOptions:r}}}),j=o("6b0d"),f=o.n(j);const g=f()(O,[["render",c]]);t["default"]=g},8192:function(e,t,o){"use strict";var l=o("7a23");const r={class:"input-field"},n=["for"],a=["id","type","value","placeholder","disabled","maxlength","minlength"],c={key:1,class:"error-message"};function i(e,t,o,i,s,d){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",r,[e.label?(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",{key:0,for:e.id,class:"input-label"},Object(l["toDisplayString"])(e.label),9,n)):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("input",{id:e.id,type:e.type,value:e.modelValue,placeholder:e.placeholder,disabled:e.disabled,maxlength:e.maxlength,minlength:e.minlength,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),class:"input"},null,40,a),e.errorMessage?(Object(l["openBlock"])(),Object(l["createElementBlock"])("p",c,Object(l["toDisplayString"])(e.errorMessage),1)):Object(l["createCommentVNode"])("",!0)])}var s=Object(l["defineComponent"])({name:"InputField",props:{id:{type:String,required:!0},label:{type:String,required:!0},type:{type:String,default:"text"},modelValue:{type:String,required:!0},placeholder:{type:String,required:!0},disabled:{type:Boolean,required:!1,default:!1},maxlength:{type:Number,required:!1},minlength:{type:Number,required:!1},errorMessage:{type:String,required:!1}}}),d=(o("be8d"),o("6b0d")),u=o.n(d);const m=u()(s,[["render",i],["__scopeId","data-v-424e3b7f"]]);t["a"]=m},"8b2b":function(e,t,o){"use strict";o("14f4")},9529:function(e,t,o){"use strict";var l=o("7a23");const r={class:"image-upload-container"};function n(e,t,o,n,a,c){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",r,[Object(l["createElementVNode"])("input",{type:"file",onChange:t[0]||(t[0]=(...t)=>e.handleFileUpload&&e.handleFileUpload(...t)),accept:".png, .jpg, .jpeg, .csv",class:"file-input"},null,32)])}var a=Object(l["defineComponent"])({name:"ImageUpload",emits:["update:file"],setup(e,{emit:t}){const o=e=>{const o=e.target,l=o.files,r=l&&l[0];r&&t("update:file",r)};return{handleFileUpload:o}}}),c=(o("8b2b"),o("6b0d")),i=o.n(c);const s=i()(a,[["render",n],["__scopeId","data-v-923aba26"]]);t["a"]=s},be8d:function(e,t,o){"use strict";o("d2e2")},d000:function(e,t,o){"use strict";var l=o("7a23"),r=o("fd5a"),n=o.n(r);const a={class:"navbar"},c={class:"action-bubble"},i={key:0,class:"dropdown-menu"};function s(e,t,o,r,s,d){const u=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createElementVNode"])("header",a,[t[4]||(t[4]=Object(l["createElementVNode"])("div",{class:"logo"},[Object(l["createElementVNode"])("a",{href:"/"},"MonLogo")],-1)),Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["menu",{active:e.isMenuOpen}])},[Object(l["createElementVNode"])("ul",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.menuItems,e=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{key:e.name,class:Object(l["normalizeClass"])({active:e.active})},[Object(l["createVNode"])(u,{class:"link",to:e.link},{default:Object(l["withCtx"])(()=>[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.name),1)]),_:2},1032,["to"])],2))),128))])],2),Object(l["createElementVNode"])("div",c,[Object(l["createElementVNode"])("button",{onClick:t[0]||(t[0]=(...t)=>e.toggleDropdown&&e.toggleDropdown(...t)),class:"action-button"},t[3]||(t[3]=[Object(l["createElementVNode"])("img",{src:n.a,alt:"Profile",class:"profile-picture"},null,-1)])),e.isDropdownOpen?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",i,[Object(l["createElementVNode"])("ul",null,[Object(l["createElementVNode"])("li",null,[Object(l["createElementVNode"])("a",{href:"#",onClick:t[1]||(t[1]=Object(l["withModifiers"])((...t)=>e.profil&&e.profil(...t),["prevent"]))},"Mon profil")]),Object(l["createElementVNode"])("li",null,[Object(l["createElementVNode"])("a",{href:"#",onClick:t[2]||(t[2]=Object(l["withModifiers"])((...t)=>e.logout&&e.logout(...t),["prevent"]))},"Se déconnecter")])])])):Object(l["createCommentVNode"])("",!0)])])])}var d=o("6605"),u=Object(l["defineComponent"])({name:"NavbarComponent",props:{menuItems:{type:Array,required:!0}},setup(){const e=Object(d["c"])(),t=()=>{localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("role"),e.push("/")},o=()=>{e.push({name:"profile"})};return{logout:t,profil:o}},data(){return{isMenuOpen:!1,isDropdownOpen:!1}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen},toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}}}),m=o("6b0d"),p=o.n(m);const b=p()(u,[["render",s]]);t["a"]=b},d2e2:function(e,t,o){},fd5a:function(e,t,o){e.exports=o.p+"img/user1.399c5f70.png"}}]);
//# sourceMappingURL=chunk-0710d360.ca886ccb.js.map